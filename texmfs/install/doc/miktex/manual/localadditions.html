<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Integrating Local Additions</title><link rel="stylesheet" type="text/css" href="miktexman.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MiKTeX Manual"><link rel="up" href="configuring.html" title="Chapter 4. Maintenance"><link rel="prev" href="autoinstall.html" title="Automatic Package Installation"><link rel="next" href="advanced.html" title="Chapter 5. Advanced Topics"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><nav><ul class="pager"><li><a aria-label="Prev" href="autoinstall.html"><span aria-hidden="true">Prev</span></a></li><li><a aria-label="Up" href="configuring.html"><span aria-hidden="true">Up</span></a></li><li><a aria-label="Next" href="advanced.html"><span aria-hidden="true">Next</span></a></li></ul></nav><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="localadditions"></a>Integrating Local Additions</h2></div></div></div><a class="indexterm" name="id728502"></a><p>If you have files that you want to integrate into the <span class="application">MiKTeX</span>
setup, you have several options:</p><h3><a name="id728490"></a>Use the command-line option
<code class="option">--include-directory=<em class="replaceable"><code>dir</code></em></code></h3><p>For example:</p><pre class="programlisting">latex --include-directory=C:\path\to\my\style\files thesis.tex</pre><p>See <a class="xref" href="texfeatures.html#includedirectory" title="Specifying Additional Input Directories">the section called “Specifying Additional Input Directories”</a>, for more information.</p><h3><a name="id728516"></a>Set environment variables</h3><p>For example:</p><pre class="programlisting">set TEXINPUTS=C:\path\to\my\style\files
latex thesis.tex</pre><p>See <a class="xref" href="envvars.html" title="Chapter 8. Environment variables">Chapter 8, <i>Environment variables</i></a>, to learn more about
<span class="application">MiKTeX</span> environment variables.</p><h3><a name="id728557"></a>Register a user-managed <acronym class="acronym">TEXMF</acronym> directory</h3><p>Register the root of the directory tree which contains your
files. The directory tree must conform to the <acronym class="acronym">TDS</acronym> standard, i.e.,
you must imitate the directory tree in the <span class="application">MiKTeX</span> installation
directory (usually <code class="filename">C:\Program Files\MiKTeX 2.9</code>).</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>This is the recommended method. The rest of this section
explains how you can register your own root directory.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id728559"></a>A Short Excursion: The <span class="application">TeX</span> Directory Structure (<acronym class="acronym">TDS</acronym>)</h3></div></div></div><p>Here is a brief summary of the <acronym class="acronym">TDS</acronym> standard:</p><p><code class="filename">*.afm</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\afm\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p><code class="filename">*.dvi</code>, <code class="filename">*.ps</code> or <code class="filename">*.pdf</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\doc\latex\<em class="replaceable"><code>package</code></em></code></p><p><code class="filename">*.enc</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\enc\<em class="replaceable"><code>syntax</code></em>\<em class="replaceable"><code>bundle</code></em></code></p><p><code class="filename">*.map</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\map\<em class="replaceable"><code>syntax</code></em>\<em class="replaceable"><code>bundle</code></em></code></p><p><code class="filename">*.mf</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\source\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p><code class="filename">*.pfb</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\type1\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p><code class="filename">*.sty</code>, <code class="filename">*.cls</code> or <code class="filename">*.fd</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\tex\latex\<em class="replaceable"><code>package</code></em></code></p><p><code class="filename">*.tfm</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\tfm\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p><code class="filename">*.ttf</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\truetype\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p><code class="filename">*.vf</code> go in <code class="filename"><em class="replaceable"><code>root</code></em>\fonts\vf\<em class="replaceable"><code>supplier</code></em>\<em class="replaceable"><code>font</code></em></code></p><p>Please run <strong class="userinput"><code>mthelp tds</code></strong> to learn more about the <acronym class="acronym">TDS</acronym>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id728847"></a>Walkthrough: Registering a User-Managed <acronym class="acronym">TEXMF</acronym> Directory</h3></div></div></div><p>In this walkthrough, we assume that your own additions are
located in the directory tree rooted at <code class="filename">C:\Local TeX
Files</code>. This tree might look as follows:</p><div class="figure"><a name="localtexmf"></a><p class="title"><b>Figure 4.4. Sample <span class="application">TeX</span> Directory Structure</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject"><img src="Images/localtexmf.png" width="405" alt="Sample TeX Directory Structure"></div></div></div></div><br class="figure-break"><p>In our example, the input files are distributed over three directories:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">C:\Local TeX Files\bibtex\bib\misc</code></span></dt><dd><p>Contains <code class="filename">.bib</code> files.</p></dd><dt><span class="term"><code class="filename">C:\Local TeX Files\bibtex\bst\misc</code></span></dt><dd><p>Contains <code class="filename">.bst</code> files.</p></dd><dt><span class="term"><code class="filename">C:\Local TeX Files\tex\latex\misc</code></span></dt><dd><p>Contains <span class="application">LaTeX</span> input files
(<code class="filename">*.sty</code>, <code class="filename">*.cls</code>,
<span class="symbol">…</span>).</p></dd></dl></div><p>You use <span class="application"><span class="application">MiKTeX</span> Options</span> to register <code class="filename">C:\Local TeX Files</code>.
Click
<span class="guimenu">Start</span> → <span class="guisubmenu">Programs</span> → <span class="guisubmenu">MiKTeX 2.9</span> → <span class="guisubmenu">Maintenance</span> → <span class="guimenuitem">Settings</span> 
to open the <span class="application"><span class="application">MiKTeX</span> Options</span> window
(see <a class="xref" href="configuring.html#mo-general" title="Figure 4.1. MiKTeX Options: General Settings">Figure 4.1, “<span class="application"><span class="application">MiKTeX</span> Options</span>: General Settings”</a>).</p><p>Click on the <span class="guilabel">Roots</span> tab.
The <span class="guilabel">Roots</span> page
(see <a class="xref" href="localadditions.html#mo-roots" title="Figure 4.5. MiKTeX Options: Roots">Figure 4.5, “<span class="application"><span class="application">MiKTeX</span> Options</span>: Roots”</a>)
shows the list of currently registered root directories.</p><div class="figure"><a name="mo-roots"></a><p class="title"><b>Figure 4.5. <span class="application"><span class="application">MiKTeX</span> Options</span>: Roots</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject"><img src="Images/mo-roots.png" width="405" alt="MiKTeX Options: Roots"></div></div></div></div><br class="figure-break"><p>Click <span class="guibutton">Add</span>.  In the following dialog box
(<a class="xref" href="localadditions.html#browselocaltexmf" title="Figure 4.6. Browsing to a Root Directory">Figure 4.6, “Browsing to a Root Directory”</a>), browse to <code class="filename">C:\Local
TeX Files</code> and click <span class="guibutton">OK</span>.</p><div class="figure"><a name="browselocaltexmf"></a><p class="title"><b>Figure 4.6. Browsing to a Root Directory</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject"><img src="Images/browselocaltexmf.png" width="405" alt="Browsing to a Root Directory"></div></div></div></div><br class="figure-break"><p>The root directory will be appended to the list (<a class="xref" href="localadditions.html#mo-roots2" title="Figure 4.7. MiKTeX Options: Root Directory Added">Figure 4.7, “<span class="application"><span class="application">MiKTeX</span> Options</span>: Root Directory Added”</a>).</p><div class="figure"><a name="mo-roots2"></a><p class="title"><b>Figure 4.7. <span class="application"><span class="application">MiKTeX</span> Options</span>: Root Directory Added</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject"><img src="Images/mo-roots2.png" width="405" alt="MiKTeX Options: Root Directory Added"></div></div></div></div><br class="figure-break"><p>You can move <code class="filename">C:\Local TeX Files</code> before the
installation directory, if you want to prioritize your own files.
Click <span class="guilabel">C:\Local TeX Files</span> to select the list
entry. Then click <span class="guibutton">Up</span> to move it before the
installation directory (<a class="xref" href="localadditions.html#mo-roots3" title="Figure 4.8. MiKTeX Options: Root Directory Moved">Figure 4.8, “<span class="application"><span class="application">MiKTeX</span> Options</span>: Root Directory Moved”</a>).</p><div class="figure"><a name="mo-roots3"></a><p class="title"><b>Figure 4.8. <span class="application"><span class="application">MiKTeX</span> Options</span>: Root Directory Moved</b></p><div class="figure-contents"><div class="screenshot"><div class="mediaobject"><img src="Images/mo-roots3.png" width="405" alt="MiKTeX Options: Root Directory Moved"></div></div></div></div><br class="figure-break"><p>Click <span class="guibutton">OK</span> to close <span class="application"><span class="application">MiKTeX</span> Options</span> The
file name database will be refreshed. Your files in <code class="filename">C:\Local
TeX Files</code> are now available to <span class="application">MiKTeX</span>.</p></div></div></body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html>
<head>
    <title>Walkthrough</title>
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <script src="scripts/topButton.js"></script>
    <button onclick="topFunction()" id="topButton" title="Back to top">Back to top</button>
</head>
<body id="_top">

<center><a href="https://cliniface.org"><img src="images/logo_357x110.png" alt="Cliniface Logo"></a></center>
<center><h1>Walkthrough</h1></center>
<hr>

<p>
This section introduces first-time users to the basics of loading, visualising, and analysing
a 3D facial image using Cliniface. Refer to the more detailed sections in this documentation
as needed for further instructions about specific aspects of Cliniface.
</p>
<ul>
    <a href="#load_image"><li>Loading an image</li></a>
    <a href="#position_landmarks"><li>Face / landmark detection</li></a>
    <a href="#enter_subject_info"><li>Entering subject information</li></a>
    <a href="#view_analysis"><li>Viewing the analysis</li></a>
    <a href="#generate_report"><li>Generating a report</li></a>
    <a href="#export_analysis"><li>Exporting analytics</li></a>
    <a href="#save_image"><li>Saving the image</li></a>
</ul>

<h2 id="load_image">Loading an image</h2>
<p>
For this walkthrough, an example image (supplied with Cliniface)
will be used. On Windows, the examples can be found in the folder:
</p>
<pre>
C:\Users\[your_user_name]\.cliniface\examples
</pre>
<p>
If using Linux, look in the directory:
</p>
<pre>
/home/[your_user_name]/.cliniface/examples
</pre>

<p>
Click <em>File --> Open</em>, or the corresponding toolbar button.
Navigate to <tt>max_raw</tt> in the examples directory, and select and load file
<tt>130408020725.obj</tt> within this directory. Once loaded, the image will be shown in the
main viewer as shown below.  More information about loading 3D model files is available
<a href="functions_help/fileio.html">here</a>.
</p>
<center><img src="images/max_raw_loaded.png"/></center>

<p>
Use the mouse to move the camera around. Left-clicking and dragging rotates the camera around
the current focus. Double left click anywhere on the model to refocus the camera. Right-clicking
and dragging pans the camera. Use the mouse wheel or click and drag the middle button to change
the camera's distance from the model. Holding <em>SHIFT</em>
while left-clicking and dragging also pans the camera, and holding <em>CTRL</em> while left
clicking and dragging changes the camera distance. More information about camera and model
navigation can be found <a href="functions_help/camera.html">here</a>.
</p>

<h2 id="position_landmarks">Face / landmark detection</h2>
<p>
Click <em>Metrics --> Detect Landmarks</em> or the corresponding toolbar button.
After some moments, landmarks are placed on the face and two new dialogs appear:
the <em>Assessment Information</em> dialog, and the <em>Landmarks Browser</em> dialog.
Confirm the placement of the landmarks on Max's face by left-clicking and dragging the
landmarks on Max's face in the main viewer according to the descriptions given in the
<em>Landmarks Browser</em>. Move the camera around Max's face to get a good view when
dragging landmarks into position. Pay careful attention because a landmark can appear
to be placed correctly only from certain viewpoints. When satisfied with the landmarks'
positions, close the <em>Landmarks Browser</em>. The image below shows Max after
face / landmark detection. More information about face and landmark detection
can be found <a href="functions_help/detection.html">here</a>.
</p>
<center><img src="images/max_raw_post_landmarks.png"/></center>

<h2 id="enter_subject_info">Entering subject information</h2>
<p>
Some information about the subject must be entered to identify atypical facial traits.
If not already open, open the <em>Assessment Information</em> dialog box by clicking 
<em>File --> Assessment Information</em>, or the corresponding toolbar button.
Data that must be entered include date of birth, image capture date,
maternal and paternal ethnicity, and sex. Other fields are optional.
The image below shows the <em>Assessment Information</em> dialog for Max immediately after
face / landmark detection.
The displayed list of phenotypic traits results from Cliniface's background analysis.
This analysis and the list of traits updates whenever demographic information about
the subject changes, or when landmark positions change.
More information about entering subject and assessment metadata can be found
<a href="functions_help/metadata.html">here</a>.
</p>
<center><img src="images/max_raw_ass_info.png"/></center>

<h2 id="view_analysis">Viewing the analysis</h2>
<p>
Open the <em>Measurements Browser</em> by selecting it from the <em>Metrics</em> menu, or
clicking the corresponding toolbar button. This shows the list of measurements taken, and
graphically indicates them on the face. Selecting a row highlights that measurement on the
face and the text in the bottom left of the viewer updates to show the measurement values
and statistics (Z-scores) if available associated with that measurement. The image below
shows measurement of the nasolabial angle. Notes relevant to the selected metric are shown
in the remarks at the bottom of the <em>Measurements Browser</em>. More information about
facial measurements can be found <a href="functions_help/metrics.html">here</a>.
</p>
<center><img src="images/bella_nasolabial.png"/></center>

<h3>Matched atypical Human Phenotype Ontology (HPO) traits</h3>
<p>
Depressing the yellow warning triangle in the <em>Measurements Browser</em> restricts the
displayed measurements to only those associated with atypical facial traits given the
subject's demographic information. Sometimes there will not be an exact match between the
statistics available for the highlighted measurement and the subject's demographic
information. The nature of any sex, ethnicity, or age mismatch is shown in the main
viewer alongside the highlighted measurement's data.
</p>

<p>
Open the <em>HPO Browser</em> from the <em>Metrics</em> menu. If the yellow warning triangle
in the <em>Measurements Browser</em> is depressed, only matched HPO terms are shown. Each HPO
term has remarks and synonyms describing its nature. These notes are taken from the online webpage
for the HPO term for which a direct link is provided at the bottom of the remarks. The criteria
describing the information Cliniface uses to flag the term are given in the rightmost text field
along with the standard subjective assessment criteria of the trait. Note that the
<em>Assessment Information</em> dialog always shows the HPO terms relating to matched atypical
facial features irrespective of whether the yellow warning triangle button in the
<em>Measurements Browser</em> is depressed.
</p>

<h2 id="generate_report">Generating a report</h2>
<p>
Cliniface can generate PDF reports for the current subject. These reports embed a fully
navigable 3D model of the selected facial image. To generate a report, click
<em>File --> Create Template Report</em> or the corresponding toolbar icon and select
which report to generate from the dropdown list that appears. Report generation will
take a few moments to complete. After choosing where to save the report, it will open
in your default viewer. Note that currently, 3D content in PDFs can only be viewed
using <a href="https://get.adobe.com/uk/reader">Adobe Acrobat Reader</a>. More information
about generating reports as well as the custom report scripting functions can be found
<a href="functions_help/reports.html">here</a>.
</p>

<h2 id="export_analysis">Exporting analytics</h2>
<p>
The facial analysis can be exported into text based CSV, JSON, or XML formats for further analysis
outside of Cliniface. Select <em>File --> Export Metadata</em> and use the approriate file extension
to export to that format. More information about exporting and importing data can be found
<a href="functions_help/import_export.html">here</a>.
</p>

<h2 id="save_image">Saving the image</h2>
<p>
To save the 3D image and all assessment and metadata, click <em>File --> Save As</em>.
The file is saved in the 3DF format which allows all of the metadata to be saved alongside
the original model data in a compressed format. For more information on the 3DF file format,
see <a href="fileformats.html">here</a>. You can also export the 3D image to other formats,
but none of the assessment or measurement data will be saved.
More information about saving models is available <a href="functions_help/fileio.html">here</a>.
</p>

<br>
<hr>
<center>
<a href="#_top">Back to top</a>
<strong><p>&copy; 2018-2022 SIS Research Ltd &amp; Richard Palmer</p></strong>
</center>

</body>
</html>

